<!DOCTYPE HTML>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />

    <style>
        #editor {
            width: 400px;
            height: 100px;
            padding: 10px;
            background-color: #444;
            color: white;
            font-size: 14px;
            font-family: monospace;
        }

        .statement {
            color: orange;
        }
    </style>

    <!-- Create a simple CodeMirror instance -->
<link rel="stylesheet" href="lib/codemirror.css">
<script src="lib/codemirror.js"></script>
    <!-- Globals CONSTANTS and _Variables. Must included be first. -->

    <!-- Host (Virtual Machine / Hardware Simulation) Routines -->

    <!-- Virtual OS Routines: Make sure Kernel code is last, since it needs those above it. -->

    <!-- Other Routines -->

    <!-- Uncomment the line below to enable GLaDOS testing. -->
    <!-- <script type="text/javascript" src="http://alanclasses.github.io/TSOS/test/glados-ip4.js"></script> -->

</head>

<body>
    <div id="editor" contenteditable="true"></div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <script>
        $(document).ready(
            function () {
                alert('Jquery Loaded!');
            }
        );
    </script>

    <script>
        // SQL keywords
        var keywords = ["SELECT", "FROM", "WHERE", "LIKE", "BETWEEN", "NOT LIKE", "FALSE", "NULL", "FROM", "TRUE", "NOT IN"];

        // Keyup event
        $(document).ready(
            function () {
                $("#editor").on("keyup", function (e) {

                    var newHTML = "";

                    // Loop through words
                    // replace(/[\s]+/g, " ")
                    let words = $(this).text();

                    for (let i = 0; i < words.length; ++i) {
                        if (i == 0) {
                            if (keywords.indexOf(words[i].trim().toUpperCase()) > -1) {
                                newHTML += "<span class = 'statement'>" + words[i] + "</span>";
                            }// if
                            else {
                                newHTML += "<span class='other'>" + words[i] + "</span>";
                            }// else
                        }// if

                        else {
                            if (keywords.indexOf(words[i].trim().toUpperCase()) > -1) {
                                newHTML += "<span class = 'statement'>" + words[i] + "</span>";
                            }// if
                            else {
                                newHTML += "<span class='other'>" + words[i] + "</span>";
                            }// else
                        }// if
                    }// for

                    if (e.keyCode == 13) {
                        newHTML += '<br>'
                    }// else if

                    $(this).html(newHTML);

                    // Set cursor postion to end of text
                    var child = $(this).children();
                    var range = document.createRange();
                    var sel = window.getSelection();
                    range.setStart(child[child.length - 1], 1);
                    range.collapse(true);
                    sel.removeAllRanges();
                    sel.addRange(range);
                    this.focus();
                });
            });
    </script>

<script>
    var editor = CodeMirror.fromTextArea(myTextarea, {
      lineNumbers: true
    });
  </script>
</body>

</html>